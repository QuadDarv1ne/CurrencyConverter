# Currency Converter - –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –í–∞–ª—é—Ç
<b>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</b> ‚Äî —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –æ–¥–Ω—É –≤–∞–ª—é—Ç—É –≤ –¥—Ä—É–≥—É—é –ø–æ –∫—É—Ä—Å—É.
–¢–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–∞—Å—Å–æ–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–º–∏ –º–æ–∂–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.

> –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç –Ω–∞ PyQT5 c –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–µ—Ä—Å–∏—Å–∞ Xe.

[Xe](https://www.xe.com/ "–í—Å–ø–ª—ã–≤–∞—é—â–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞") ‚Äî —ç—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —É—Å–ª—É–≥–∏ –ø–æ –æ–±–º–µ–Ω—É –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã –æ–Ω–ª–∞–π–Ω.
–ù–∞–∏–±–æ–ª–µ–µ –∏–∑–≤–µ—Å—Ç–Ω–∞ Xe —Å–≤–æ–∏–º –æ–Ω–ª–∞–π–Ω-–∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–æ–º –≤–∞–ª—é—Ç.
–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è —Ç–∞–∫–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏, –∫–∞–∫ <u>[requests](https://pypi.org/project/requests/)</u> –∏  <u>[BeautifulSoup](https://pypi.org/project/beautifulsoup4/)</u>, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –Ω–∞ –∏—Ö –æ—Å–Ω–æ–≤–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç.

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:
```python
import requests
from bs4 import BeautifulSoup as bs
import re
from dateutil.parser import parse
```
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—É—é –≤–∞–ª—é—Ç—É, —Ü–µ–ª–µ–≤—É—é –≤–∞–ª—é—Ç—É –∏ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é –º—ã —Ö–æ—Ç–∏–º –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –∞ –∑–∞—Ç–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—É–º–º—É –≤–º–µ—Å—Ç–µ —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º –æ–±–º–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞.

–í—ã–≥–ª—è–¥–µ—Ç—å —ç—Ç–æ –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```python
def convert_currency_xe(src, dst, amount):
    def get_digits(text):
        """Returns the digits and dots only from an input `text` as a float
        Args:
            text (str): Target text to parse
        """
        new_text = ""
        for c in text:
            if c.isdigit() or c == ".":
                new_text += c
        return float(new_text)
    
    url = f"https://www.xe.com/currencyconverter/convert/?Amount={amount}&From={src}&To={dst}"
    content = requests.get(url).content
    soup = bs(content, "html.parser")
    exchange_rate_html = soup.find_all("p")[2]
    # get the last updated datetime
    last_updated_datetime = parse(re.search(r"Last updated (.+)", exchange_rate_html.parent.parent.find_all("div")[-2].text).group()[12:])
    return last_updated_datetime, get_digits(exchange_rate_html.text)
```

–ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –æ–±–º–µ–Ω–Ω—ã–π –∫—É—Ä—Å –Ω–∞—Ö–æ–¥–∏–ª—Å—è –≤ —Ç—Ä–µ—Ç—å–µ–º –∞–±–∑–∞—Ü–µ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.
–≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç —Å—Ç—Ä–æ—á–∫—É: ```soup.find_all("p")[2]```.
–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –≤–Ω–æ—Å–∏—Ç—å –ø—Ä–∞–≤–∫–∏, –∫–æ–≥–¥–∞ –≤ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–Ω–æ—Å—è—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–í HTML DOM –ø–æ—Å–ª–µ–¥–Ω—è—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ–±–º–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–æ –≤—Ç–æ—Ä–æ–º —Ä–æ–¥–∏—Ç–µ–ª–µ –∞–±–∑–∞—Ü–∞ exchange rate.

–ü–æ—Å–∫–æ–ª—å–∫—É –æ–±–º–µ–Ω–Ω—ã–π –∫—É—Ä—Å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã, –º—ã —Å–æ–∑–¥–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é get_digits() –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä –∏ —Ç–æ—á–µ–∫.

–ß—Ç–æ –∂, –¥–∞–≤–∞–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π:
```python
if __name__ == "__main__":
    import sys
    source_currency = sys.argv[1]
    destination_currency = sys.argv[2]
    amount = float(sys.argv[3])
    last_updated_datetime, exchange_rate = convert_currency_xe(source_currency, destination_currency, amount)
    print("Last updated datetime:", last_updated_datetime)
    print(f"{amount} {source_currency} = {exchange_rate} {destination_currency}")
```

–ù–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –Ω–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—É—é –∏ —Ü–µ–ª–µ–≤—É—é –≤–∞–ª—é—Ç—ã, –∞ —Ç–∞–∫–∂–µ —Å—É–º–º—É –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.
–ú—ã —Ç–∞–∫–∂–µ –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å 1000 –µ–≤—Ä–æ –≤ –¥–æ–ª–ª–∞—Ä—ã –°–®–ê —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª–∏:
```commandline
python xe_currency_converter.py EUR USD 1000
```

–ú—ã –ø–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```commandline
Last updated datetime: 2022-02-01 13:04:00+00:00
1000.0 EUR = 1125.8987 USD
```
–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!
Xe –æ–±—ã—á–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É, —Ç–∞–∫ —á—Ç–æ –º—ã –ø–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ üëÄ

[Qt Creator](https://doc.qt.io/qtcreator/ "Qt Creator ‚Äî —ç—Ç–æ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (IDE) –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ Android –∏ iOS. –û–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º Linux, macOS –∏ Windows") ‚Äî –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è —Å–≤–æ–±–æ–¥–Ω–∞—è IDE –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –°, –°++ –∏ QML.
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ Trolltech –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º Qt.
–í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–ª–∞–¥—á–∏–∫–∞ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º QtWidgets, —Ç–∞–∫ –∏ QML.

![image](https://github.com/QuadDarv1ne/CurrencyConverter/assets/51045274/940baaca-152b-40e5-af7c-9847e289ea00)

> –î–∞—Ç–∞: 12.03.2024
> 
> –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: –î—É–ø–ª–µ–π –ú–∞–∫—Å–∏–º –ò–≥–æ—Ä–µ–≤–∏—á
